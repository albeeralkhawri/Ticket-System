<!DOCTYPE html>
<html>
<head>
<title>Facebook Login JavaScript Example</title>
<meta charset="UTF-8">
</head>
<body>
  <script>
      window.fbAsyncInit = function () {
          FB.init({
              appId: '534358181941680',
              autoLogAppEvents: true,
              xfbml: true,
              version: 'v15.0'
          });

          //check if user is logged in... - SOON AFTER page load.
          FB.getLoginStatus(function (response) {
              console.log('initial-check:', response);

              //wire up 4 event handlers.. regardless of status
              FB.Event.subscribe('auth.authResponseChange', cb_auth_response_change);
              FB.Event.subscribe('auth.statusChange', cb_auth_status_change);

              FB.Event.subscribe('auth.login', cb_login_res);
              FB.Event.subscribe('auth.logout', cb_logout_res);
          });
      };

      function cb_auth_response_change(res) {
          console.log('response_change:', res);
      }
      function cb_auth_status_change(res) {
          console.log('status_change:', res);
      }
      function cb_login_res(res) {
          console.log('login_res:', res);
      }
      function cb_logout_res(res) {
          console.log('logout_res:', res);
      }

  </script>

  <script async defer src="https://connect.facebook.net/en_US/sdk.js"></script>

  
  <hr />
  <!-- Facebook login/logout btn -->
  <div class="fb-login-button" data-size="large" data-width="" data-button-type="login_with"
      data-auto-logout-link="true" data-use-continue-as="false">
  </div>


  <p>&nbsp;</p>
  <!-- html button-1 -->
  <button type="button" id="btnCheckStatus">Check Status (getLoginStatus - Async)</button>

  <p>&nbsp;</p>
  <!-- html button-2 -->
  <button type="button" id="btnCheckStatusSync">Check Status (getAuthResponse - SYNC) </button>

  <script>
      let btn = document.querySelector('#btnCheckStatus');
      btn.onclick = function () {
          FB.getLoginStatus(function (res) {
              console.log('Async res:', res)
          })
      }

      let btnSync = document.querySelector('#btnCheckStatusSync');
      btnSync.onclick = function () {
          let res = FB.getAuthResponse();
          console.log('Sync: res:', res)
      }
  </script>
</body>
</html>